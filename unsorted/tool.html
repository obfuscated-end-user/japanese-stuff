<!DOCTYPE HTML>
<html lang="en">
    <head>
        <title>Tool.</title>
        <meta charset="utf-8">
        <meta name="description" content="Tool used for creating Anki cards.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            body {
                font-family: "Yu Gothic", "Noto Sans", Meiryo, Arial, Helvetica, sans-serif;
                font-size: smaller;
            }

            textarea {
                border-radius: 10px;
                height: 100%;
                resize: none;
                width: 100%;
            }

            button, select {
                border-radius: 5px;
                font-weight: bold;
            }

            @keyframes light-mode-body {
                from {background-color: #000;}
                to {background-color: #fff;}
            }

            .light-mode, .light-mode textarea {
                background-color: #fff;
                color: #000;
                animation: light-mode-body 0.5s;
            }

            @keyframes dark-mode-body {
                from {background-color: #fff;}
                to {background-color: #000;}
            }

            .dark-mode, .dark-mode textarea, .dark-mode #search-bar {
                background-color: #000;
                color: #fff;
                animation: dark-mode-body 0.5s;
            }

            .dark-mode #preview, .dark-mode #modes, .dark-mode #indicator, .dark-mode #anki-html {
                border: solid 2px #fff;
            }

            .dark-mode button, .dark-mode select, .dark-mode select option {
                background: #696969;
                color: #fff;
                animation: 0.5s;
            }

            .dark-mode .search-icons, .dark-mode #github-logo {
                filter: invert(1);
            }

            #github-logo {
                height: 20px;
                width: 20px;
            }

            /* The two screens */
            /* Left */
            #modes {
                border: solid 2px #000;
                border-radius: 10px;
                margin: 10px;
                padding: 1%;
                width: 47%;
            }

            #anki {
                height: 100%;
                left: 0;
                overflow-x: hidden;
                overflow-y: auto;
                padding-top: 20px;
                position: fixed;
                top: 0;
                width: 60%;
                z-index: 1;
            }

            button, #alt-forms-textarea, #readings-textarea, #definitions-textarea, #haskanji-textarea, #examples-textarea, #anki-html, #temp-textarea, #search-bar {
                font-family: "UDEV Gothic", Consolas, "Courier New", Courier, monospace;
                font-size: 12px;
            }

            button {
                cursor: pointer;
            }

            #alt-forms-textarea {
                color: #f00;
            }

            #readings-textarea {
                color: #daa520;
            }

            #definitions-textarea {
                color: #32cd32;
            }

            #haskanji-textarea {
                color: #00f;
            }

            #examples-textarea {
                color: #f0f;
            }

            #preview {
                border: solid 2px #000;
                border-radius: 10px;
                font-size: 20px;
                margin-bottom: 10px;
                max-height: 300px;
                overflow-y: auto;
                padding: 2.5%;
                text-align: left;
            }

            #preview b {
                color: #f00;
            }

            rt, .unhighlightable {
                user-select: none;
            }

            .element-headers {
                font-size: 15px;
                font-weight: bold;
            }

            .input-boxes-left {
                float: left;
                margin-left: 20px;
                margin-top: 5px;
                min-height: 100vh;
                padding-bottom: 1%;
                position: relative;
                width: 47%;
            }

            .input-boxes-right {
                float: right;
                margin-right: 20px;
                margin-top: 5px;
                width: 47%;
            }

            footer {
                bottom: 0px;
                position: absolute;
                width: 100%;
            }

            #anki-html {
                border: solid 2px #000;
                border-radius: 10px;
                display: inline-block;
                height: 12em;
                overflow: auto;
                padding: 2px;
                width: 100%;
            }

            [contentEditable=false]:empty:not(:focus):before {
                content: attr(data-text)
            }

            .examples {
                float: none;
                writing-mode: horizontal-tb;
            }

            #toggle-vertical-button {
                float: right;
            }

            #variation-selectors {
                float: right;
            }

            .help-link {
                font-weight: bold;
                text-decoration: none;
            }

            /* Right */
            #external {
                height: 100%;
                overflow-x: hidden;
                overflow-y: auto;
                padding-top: 20px;
                position: fixed;
                right: 0;
                text-align: left;
                top: 0;
                width: 40%;
                z-index: 1;
            }

            #search-bar {
                border-radius: 10px;
                margin-bottom: 1.5%;
                margin-left: 2.5%;
            }

            #go-button:disabled {
                cursor: not-allowed;
            }

            .search-icons {
                height: 15px;
                width: 15px;
            }

            #iframe-header {
                margin-left: 2.5%;
                display: none;
            }

            #external-content {
                border-radius: 10px;
                height: 77.5%;
                margin: 2.5%;
                margin-top: 0.25%;
                width: 95%;
            }

            #indicator, td, tr {
                margin-left: 2.5%;
                margin-right: auto;
                text-align: left;
                width: 75%;
            }

            #indicator {
                border: 2px solid #000;
                border-radius: 10px;
            }
        </style>
    </head>
    <body class="light-mode">
        <div id="anki">
            <div id="modes" class="unhighlightable">
                <input type="radio" id="hiragana-only-radio" name="conversion-mode">hiragana only<br>
                <input type="radio" id="regular-word-radio" name="conversion-mode">regular word<br>
                <input type="radio" id="kanji-entry-radio" name="conversion-mode">kanji entry<br><br>
                <button type="button" onclick="setCheckboxes()">set checkboxes</button>&emsp;
                <button type="button" onclick="clearAll(1); playClickSound();">reset</button>&emsp;
                <button type="button" onclick="clearAll(0)">clear</button>&emsp;
                <button type="button" id="light-dark-mode-button" onclick="toggleDarkMode()">闇</button><br>
            </div>

            <div class="input-boxes-left">
                <span class="element-headers unhighlightable" id="alt-forms-header">Alternative forms</span><br>
                <input type="checkbox" id="alt-forms-checkbox" name="alt-forms-checkbox-name" onclick="toggleHeaderColor(event, altFormsHeader, '#f00');"><button type="button" onclick="formatAltForms()">format</button>
                <span id="variation-selectors" class="unhighlightable">
                    <button type="button" onclick="copy(variationSelectorsDropdown.options[variationSelectorsDropdown.selectedIndex].innerHTML)">copy</button>
                    <select id="variation-selectors-dropdown" title="Select variation selector...">
                        <option value="&#xE0100;" selected>&amp;#xE0100;</option>
                        <option value="&#xE0101;">&amp;#xE0101;</option>
                        <option value="&#xE0102;">&amp;#xE0102;</option>
                        <option value="&#xE0103;">&amp;#xE0103;</option>
                        <option value="&#xE0104;">&amp;#xE0104;</option>
                        <option value="&#xE0105;">&amp;#xE0105;</option>
                    </select>
                    <a class="help-link" title="Wikipedia: Variation_Selectors_(Unicode_block)" href="https://en.wikipedia.org/wiki/Variation_Selectors_(Unicode_block)" target="_blank" rel="noopener noreferrer">(?)</a>
                </span><br>
                <textarea id="alt-forms-textarea" rows="10" placeholder="Alternative forms of a given entry, separated by fullwidth commas (、). Also referred to as &quot;alt-forms&quot;.&#10;If a form has a fullwidth comma, wrap that entire form in these &quot;boxy&quot; quotation marks (「」).&#10;&#10;Example (entry for 井の中の蛙大海を知らず):&#10;&#10;井の中の蛙大海を知らず、井の内の蛙大海を知らず、「井の中の蛙、大海を知らず」" value=""></textarea><br>

                <span class="element-headers unhighlightable" id="definitions-header">Definitions</span><br>
                <input type="checkbox" id="definitions-checkbox" name="definitions-checkbox-name" onclick="toggleHeaderColor(event, definitionsHeader, '#32cd32');"><button type="button" onclick="formatDefinitions()">format</button><br>
                <textarea id="definitions-textarea" rows="10" placeholder="Dictionary-like definitions of a given entry. You're allowed to combine dictionary entries from whatever sources you find, be it from here or somewhere else." value=""></textarea><br>

                <span class="element-headers unhighlightable" id="examples-header">Example usage</span><br>
                <input type="checkbox" id="examples-checkbox" name="examples-checkbox-name" onclick="toggleHeaderColor(event, examplesHeader, '#f0f');"><button type="button" onclick="formatExamples()">format</button><br>
                <textarea id="examples-textarea" rows="10" placeholder="Sentences or phrases that use the entry. Fullwidth forms of Latin-based characters and numbers are preferred over their halfwidth counterparts.&#10;&#10;Example (entry for 拗れる):&#10;&#10;(下手)[へた]に(口)[くち]を(挟)[はさ]んだら(余計)[よけい]に`こじれて~しまいそうだ。&#10;(人間関係)[にんげんかんけい]は(時間)[じかん]が(経)[た]てば(経)[た]つほど`こじれて~いくものだ。&#10;お(前)[まえ]が(余計)[よけい]な(事)[こと]を(言)[い]うから(話)[はなし]が`こじれた~んだよ！" value=""></textarea>

                <br><span class="element-headers unhighlightable">Temporary textbox</span>
                <textarea id="temp-textarea" rows="10" placeholder="Store text in here temporarily. You can use this instead of Notepad (or any text processing software) to prevent yourself from switching back and forth between multiple windows. Text in here will not be included during conversion." value="" lang="ja"></textarea><br>

                <footer class="unhighlightable">
                    <a href="https://github.com/obfuscated-end-user/Japanese-stuff/blob/master/unsorted/tool.html" title="View source code on GitHub"><img id="github-logo" src="https://github.com/favicon.ico"></a><br>
                    <strong>© 2022-<span id="copyright-year"></span> <ruby>横浜<rt>よこはま</rt></ruby>. All rights reserved.</strong><br>
                </footer>
            </div>

            <div class="input-boxes-right">
                <span class="element-headers unhighlightable" id="readings-header">Readings</span><br>
                <input type="checkbox" id="readings-checkbox" name="readings-checkbox-name" onclick="toggleHeaderColor(event, readingsHeader, '#daa520');"><button type="button" onclick="formatReadings()">format</button><br>
                <textarea id="readings-textarea" rows="10" placeholder="Readings associated with an entry, separated by fullwidth commas (、). In case of single-kanji entries, kun'yomi readings come first rendered in hiragana, followed by on'yomi readings rendered in katakana.&#10;&#10;Example (entry for 命):&#10;&#10;いのち、みこと&#10;メイ、ミョウ" value=""></textarea><br>

                <span class="element-headers unhighlightable" id="haskanji-header">Words containing this kanji</span><br>
                <input type="checkbox" id="haskanji-checkbox" name="haskanji-checkbox-name" onclick="toggleHeaderColor(event, hasKanjiHeader, '#00f');"><button type="button" onclick="formatWordsContainingThisKanji()">format</button><br>
                <textarea id="haskanji-textarea" rows="10" placeholder="Words that contain this kanji. Also referred to as &quot;haskanji&quot;. Must be only included in single-kanji entries, and ignored for all other cases.&#10;&#10;Example (entry for 解):&#10;&#10;(理解)[りかい] - understanding, comprehension&#10;(解凍)[かいとう] - thawing&#10;(解決)[かいけつ] - solution, settlement" value=""></textarea><br>

                <span class="element-headers unhighlightable">HTML</span><br>
                <button type="button" onclick="convertText()">convert</button><span class="unhighlightable"> | </span><button type="button" onclick="copy(preview.value)">copy</button><br>

                <div id="anki-html" data-text="" rows="10" value="" lang="ja">The resulting HTML code from the other textboxes. The output depends on the checkboxes you ticked. You can copy text from here, but you're not allowed to edit it from here.<br>Click <strong>convert</strong> to get the input from other textboxes and combine them automatically into HTML code. Click <strong>copy</strong> to put text from here into your clipboard.</div><br>

                <span class="element-headers unhighlightable">Preview</span>
                <button type="button" id="toggle-vertical-button" onclick="toggleVertical()">toggle vertical</button>
                <div id="preview" class="unhighlightable">
                    <span class="alt-forms">體外離脫</span><br><br><span class="readings">たいがいりだつ</span><br><br><span class="definitions">an out-of-body experience</span><br><br><span class="examples"><ruby>車<rt>くるま</rt></ruby>が<ruby>谷<rt>たに</rt></ruby>に<ruby>落<rt>お</rt></ruby>ちて<ruby>両親<rt>りょうしん</rt></ruby>を<ruby>亡<rt>な</rt></ruby>くしたんですが、その<ruby>時<rt>とき</rt></ruby>に<ruby>彼女<rt>かのじょ</rt></ruby>は、<ruby><b>体外離脱</b><rt>たいがいりだつ</rt></ruby>ですか？<br><ruby>臨死体験<rt>りんしたいけん</rt></ruby><ruby>中<rt>ちゅう</rt></ruby>には<ruby><b>体外離脱</b><rt>たいがいりだつ</rt></ruby><ruby>現象<rt>げんしょう</rt></ruby>が<ruby>起<rt>お</rt></ruby>こることが<ruby>知<rt>し</rt></ruby>られている。</span>
                </div><br><br>
            </div>
        </div>
        <div id="external">
            <input type="text" id="search-bar" placeholder="e.g. 魑魅魍魎" onchange="toggleSearchButton(this.value)">&nbsp;<button id="go-button" type="button" onclick="searchWord()" disabled>search word</button>
            <table id="indicator" class="unhighlightable">
                <tr>
                    <th>Definitions</th>
                    <td>
                        <!-- fix the labels so the checkboxes can be selectable when clicking on labels-->
                        <input type="radio" id="wiktionary-english-radio" name="search-mode"><label for="wiktionary-english-radio"><span title="Wiktionary (English)"><img class="search-icons" alt="WE" src="https://en.wiktionary.org/favicon.ico"></span></label>
                        <input type="radio" id="wiktionary-japanese-radio" name="search-mode"><span title="ウィクショナリー日本語版"><img class="search-icons" alt="WJ" src="https://ja.wiktionary.org/favicon.ico"></span>
                        <input type="radio" id="jisho-definitions-radio" name="search-mode"><span title="jisho.org (definitions)"><img class="search-icons" alt="JD" src="https://assets.jisho.org/assets/favicon-062c4a0240e1e6d72c38aa524742c2d558ee6234497d91dd6b75a182ea823d65.ico"></span>
                        <input type="radio" id="jisho-kanji-radio" name="search-mode"><span title="jisho.org (kanji)"><img class="search-icons" alt="JK" src="https://assets.jisho.org/assets/favicon-062c4a0240e1e6d72c38aa524742c2d558ee6234497d91dd6b75a182ea823d65.ico"></span>
                        <input type="radio" id="jisho-names-radio" name="search-mode"><span title="jisho.org (names)"><img class="search-icons" alt="JN" src="https://assets.jisho.org/assets/favicon-062c4a0240e1e6d72c38aa524742c2d558ee6234497d91dd6b75a182ea823d65.ico"></span><br>
                    </td>
                </tr>
                <tr>
                    <th>Example sentences</th>
                    <td>
                        <input type="radio" id="jisho-sentences-radio" name="search-mode"><span title="jisho.org (sentences)"><img class="search-icons" alt="JS" src="https://assets.jisho.org/assets/favicon-062c4a0240e1e6d72c38aa524742c2d558ee6234497d91dd6b75a182ea823d65.ico"></span>
                        <input type="radio" id="massif-radio" name="search-mode"><span title="Massif"><img class="search-icons" alt="M" src="https://massif.la/static/favicon_256.png"></span>
                        <!-- yeah, i know how stupid this looks -->
                        <input type="radio" id="yourei-radio" name="search-mode"><span title="用例"><img class="search-icons" alt="Y" src="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAC0nwQEtJ8EDLSfBBy0nwQwtJ8EFLSfBAAAAAAAAAAAAAAAAAC0nwQUtJ8EOLSfBEC0nwQotJ8EBAAAAAAAAAAAtJ8EJLSfBNi0nwVUtJ8F4LSfBUC0nwQstJ8EAAAAAAAAAAAAtJ8ExLSfBiC0nwZotJ8F4LSfBFAAAAAAAAAAALSfBGy0nwaktJ8G1LSfBhC0nwcwtJ8FvLSfBDC0nwQAAAAAALSfBOC0nwYctJ8GfLSfB6C0nwV0AAAAAAAAAAC0nwRstJ8GuLSfBnS0nwQotJ8FyLSfBzS0nwWktJ8EKLSfBAC0nwRMtJ8EoLSfBJy0nwdotJ8F3AAAAAAAAAAAtJ8EbLSfBri0nwZ4tJ8EALSfBDi0nwXktJ8HFLSfBUC0nwQMtJ8FbLSfBui0nwUUtJ8HZLSfBdwAAAAAAAAAALSfBGy0nwa4tJ8GdLSfBAC0nwQAtJ8EZLSfBqy0nwa4tJ8EeLSfBaS0nwdEtJ8FJLSfB2S0nwXcAAAAALSfBAC0nwRstJ8GtLSfBrC0nwTAtJ8EbLSfBMi0nwaotJ8HgLSfBSC0nwWgtJ8HQLSfBSS0nwdktJ8F3LSfBAC0nwQAtJ8EcLSfBqy0nwb8tJ8GLLSfBly0nwawtJ8G1LSfBxy0nwXktJ8F3LSfBzy0nwUktJ8HZLSfBdy0nwQUtJ8E2LSfBeC0nwaotJ8GnLSfBai0nweQtJ8GmLSfBOC0nwY8tJ8GlLSfBjC0nwc4tJ8FJLSfB2S0nwXctJ8EFLSfBUS0nweEtJ8HULSfBmC0nwSwtJ8HDLSfBfC0nwQAtJ8GCLSfBsy0nwZQtJ8HNLSfBSS0nwdktJ8F3LSfBAS0nwR0tJ8GpLSfB+i0nwZstJ8EKLSfBhS0nwbwtJ8FlLSfBtS0nwbwtJ8GXLSfBzS0nwUktJ8HZLSfBdy0nwQAtJ8ECLSfBPS0nweEtJ8GdLSfBAC0nwV8tJ8HeLSfBsC0nwaYtJ8FmLSfBfS0nwc8tJ8FJLSfB2S0nwXcAAAAALSfBAC0nwRQtJ8GbLSfBsC0nwQotJ8FCLSfBxS0nwXQtJ8EgLSfBDS0nwW0tJ8HQLSfBSS0nwdktJ8F3AAAAAAAAAAAtJ8EDLSfBQC0nwb0tJ8GRLSfBxC0nweMtJ8HJLSfBsC0nwbItJ8GoLSfBoy0nwT0tJ8HZLSfBdwAAAAAAAAAALSfBAC0nwRstJ8GZLSfBsS0nwXItJ8F1LSfBdS0nwXUtJ8F2LSfBRy0nwRotJ8EiLSfB0y0nwWYAAAAAAAAAAAAAAAAtJ8EDLSfBHi0nwTItJ8EKLSfBCi0nwQotJ8EKLSfBCi0nwQUtJ8EALSfBBC0nwTAtJ8EOweAAAMDgAADAYAAAwCAAAMQAAADGAAAAwAAAAMAAAAAAAAAAAIAAAAAAAACEAAAAwAAAAMAAAADgAAAA4AgAAA=="></span>
                        <input type="radio" id="ejje-radio" name="search-mode"><span title="EJJE Weblio"><img class="search-icons" alt="EW" src="https://ejje.weblio.jp/favicon.ico"></span>
                        <input type="radio" id="eijirou-radio" name="search-mode"><span title="英辞郎 on the web"><img class="search-icons" alt="ER" src="https://eow.alc.co.jp/favicon.ico"></span>
                        <input type="radio" id="wikipedia-japanese-radio" name="search-mode"><span title="ウィキペディア日本語版"><img class="search-icons" alt="WJ" src="https://ja.wikipedia.org/favicon.ico"></span>
                        <input type="radio" id="furigana-bunko-radio" name="search-mode"><span title="ふりがな文庫"><img class="search-icons" alt="FB" src="https://furigana.info/favicon.ico"></span>
                    </td>
                </tr>
                <tr>
                    <th>Format sentences</th>
                    <td>
                        <input type="radio" id="drk7jp-radio" name="search-mode"><span title="drk7.jp"><img class="search-icons" alt="D7" src="https://www.drk7.jp/favicon.ico"></span>
                    </td>
                </tr>
                
            </table>
            <span style="margin-left: 2.5%;" class="unhighlightable"><em>Content inside the iframe should not be affected by dark mode.</em></span><br>
            <span style="margin-left: 2.5%;" class="unhighlightable">If the content below does not load properly, <strong style="color: red;">DO NOT</strong> click "Try again" to prevent unexpected behavior.<span id="iframe-header" class="unhighlightable"><br></span></span>
            
            <!--the sandbox="allow-same-origin" thing allows me to load the page as if it were in incognito mode. allow-scripts just messes up the quotations section in some pages. -->
            <!-- <a href="https://ruby.suki2.net">Sentence fixer (not by me) (DOWN)</a><br> -->
            
            <iframe id="external-content" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe><br>
            <audio id="audio" src="https://www.soundjay.com/buttons/button-28.mp3"></audio>
        </div>
        <script>
            // LEFT SIDE
            // Button
            let lightDarkModeButton = document.getElementById("light-dark-mode-button");

            // Textboxes
            let altFormsTextArea = document.getElementById("alt-forms-textarea");
            let readingsTextArea = document.getElementById("readings-textarea");
            let definitionsTextArea = document.getElementById("definitions-textarea");
            let hasKanjiTextArea = document.getElementById("haskanji-textarea");
            let examplesTextArea = document.getElementById("examples-textarea");
            let tempTextArea = document.getElementById("temp-textarea");

            // Headers
            let altFormsHeader = document.getElementById("alt-forms-header");
            let readingsHeader = document.getElementById("readings-header");
            let definitionsHeader = document.getElementById("definitions-header");
            let hasKanjiHeader = document.getElementById("haskanji-header");
            let examplesHeader = document.getElementById("examples-header");
    
            // Read-only HTML code generated from the fields above.
            let ankiHTML = document.getElementById("anki-html");
    
            // Radio buttons
            let conversionMode = document.getElementsByName("conversion-mode");
            let hiraganaOnly = document.getElementById("hiragana-only-radio");
            let regularWord = document.getElementById("regular-word-radio");
            let kanjiEntry = document.getElementById("kanji-entry-radio");
    
            // Checkboxes
            let altFormsCheckbox = document.getElementById("alt-forms-checkbox");
            let readingsCheckbox = document.getElementById("readings-checkbox");
            let definitionsCheckbox = document.getElementById("definitions-checkbox");
            let hasKanjiCheckbox = document.getElementById("haskanji-checkbox");
            let examplesCheckbox = document.getElementById("examples-checkbox");

            // Select (dropdown)
            let variationSelectorsDropdown = document.getElementById("variation-selectors-dropdown");
            
            // Preview box at the bottom of the page.
            let preview = document.getElementById("preview");
            let toggelVerticalButton = document.getElementById("toggle-vertical-button");

            // Sets the checkboxes depending on what radio button is selected from the three.
            function setCheckboxes() {
                playClickSound();
                if (hiraganaOnly.checked) {
                    altFormsCheckbox.checked = true;
                    readingsCheckbox.checked = false;
                    definitionsCheckbox.checked = true;
                    hasKanjiCheckbox.checked = false;
                    examplesCheckbox.checked = true;
                } else if (regularWord.checked) {
                    altFormsCheckbox.checked = true;
                    readingsCheckbox.checked = true;
                    definitionsCheckbox.checked = true;
                    hasKanjiCheckbox.checked = false;
                    examplesCheckbox.checked = true;
                } else if (kanjiEntry.checked) {
                    altFormsCheckbox.checked = true;
                    readingsCheckbox.checked = true;
                    definitionsCheckbox.checked = true;
                    hasKanjiCheckbox.checked = true;
                    examplesCheckbox.checked = true;
                }
            }

            function formatGeneric(element, obj) {
                // console.log("obj", obj);
                let str = element.value;
                for (x in obj) {
                    console.log("before", str);
                    str = str.replaceAll(new RegExp(x, "g"), obj[x]);
                    console.log("after", str);
                }
                // console.log("s", s);
                return str;
            }

            // Remember, if it's a div, then use innerHTML. If it's a textarea, then use value.
            // Reformats the text to convert some shorthand expressions. I know, stupid function name, should've been the one at the bottom, but whatever. Mainly used for kanji in text.
            function reformat(text) {
                return text.replaceAll("(", "<ruby>").replaceAll(")[", "<rt>").replaceAll("]", "</rt></ruby>").replaceAll("{", "<ruby><b>").replaceAll("}[", "</b><rt>").replaceAll("`", "<b>").replaceAll("~", "</b>").replaceAll("*^", "<i>").replaceAll("^*", "</i>").replaceAll(/(?:\r|\n|\r\n)/g, "<br>");
            }

            // Formats the "Alternative forms" textbox.
            function formatAltForms() {
                playClickSound();
                let regexNone = /( |\(\w*.*\w\)|【[０-９Ａ-ｚぁ-んァ-ン一-鿿]*】|\u200b|\(\w*.*\w|\()/g;
                let regexComma = /(?:\r|\n|\r\n)|,/g;
                let matchesRegexNone = altFormsTextArea.value.match(regexNone);
                let matchesRegexComma = altFormsTextArea.value.match(regexComma);

                // NOT FINAL
                regexes = {
                    "(?:\r|\n|\r\n)|," : "、",
                    "( |[A-zÀ-ÖØ-öø-įĴ-őŔ-žǍ-ǰǴ-ǵǸ-țȞ-ȟȤ-ȳɃɆ-ɏḀ-ẞƀ-ƓƗ-ƚƝ-ơƤ-ƥƫ-ưƲ-ƶẠ-ỿ].*|【[０-９Ａ-ｚぁ-んァ-ン一-鿿]*】|\u200b|[()])" : "",
                };
                // regexes[/( |\(\w*.*\w\)|【[０-９Ａ-ｚぁ-んァ-ン一-鿿]*】|\u200b|\(\w*.*\w|\()/] = "";
                // regexes[/(?:\r|\n|\r\n)|,/] = "、";

                altFormsTextArea.value = altFormsTextArea.value.replaceAll(regexNone, "").replaceAll(regexComma, "、");

                // NOT FINAL
                // altFormsTextArea.value = formatGeneric(altFormsTextArea, regexes);
                // console.log("alt-forms regexes:\nregexNone:\n", matchesRegexNone, "\nregexComma:\n", matchesRegexComma);
                // console.log("formatGeneric", formatGeneric(altFormsTextArea, regexes));
                // console.log("altFormsTextArea.value", altFormsTextArea.value);/
            }

            // Formats the "Readings" textbox.
            function formatReadings() {
                playClickSound();
                let regex = /(Kun:\n|On:\n| |^\n*$)/g;
                let badLineBreaks = /(、<br>|<br>、)/g;
                let matchesRegex = readingsTextArea.value.match(regex);
                readingsTextArea.value = readingsTextArea.value.replaceAll(regex, "").replaceAll(badLineBreaks, "、");
                console.log("readings regexes:\n", matchesRegex);
            }

            // Formats the "Definitions" textbox.
            function formatDefinitions() {
                playClickSound();
                // i did it separately instead of something like ([\(\{\[\]]) because i need different html codes for each of these
                // U+200B is a zero-width space, mostly coming from copying text on jisho.org
			    // also put something like this on words containing this kanji box
			    // also something that catches "<br>(", '("', "short for"
                // for '("', use the 3rd entry on 根本 on wikt
                // try to console.log() what was removed (use the match() method)
                // obviously there are better ways to do this instead of these clunky ass regexes
                let regexLp = /((\()(?=[*"\w])|(?<=<br>)(\())/g;
                let regexLs = /((\[)(?=[*"\w])|(?<=<br>)(\[))/g;
                let regexRs = /((\])(?=[*"\w])|(?<=<br>)(\]))/g;
                let regexLc = /((\{)(?=[*"\w])|(?<=<br>)(\{))/g;
                let regexNone = /([\u200b]|^\s*|^\s*(?=[.*\n]))/g;
                let regexNewline = /(\n\s*)(?=[&|(\w*.*\w\)])/g;
                let regexQm = /[“|”]/g;
                let regexSpacing = /(?<=[A-Za-z(&])\n(?=[\n&(])/g;
                let regexTrailingWs = /^\n$/g;

                definitionsTextArea.value = definitionsTextArea.value.replaceAll(regexLp, "&#40;").replaceAll(regexLs, "&#91;").replaceAll(regexRs, "&#93;").replaceAll(regexLc, "&#123;").replaceAll(regexQm, "\"").replaceAll(regexNone, "").replaceAll(regexNewline, "\n").replaceAll(regexSpacing, "\n\n").replaceAll(regexTrailingWs, "").replaceAll("<!---->", "");

                let keywords = ["Short for", "Alternative spelling of", "Synonym of", "Clipping of"];
                for (let i = 0; i < keywords.length; ++i)
                    definitionsTextArea.value = definitionsTextArea.value.replaceAll(keywords[i], `*^${keywords[i].toLowerCase()}^*`);

                // TBD
                let matchesRegexLp = definitionsTextArea.value.match(regexLp);
                console.log("alt-forms regexes:\nmatchesRegexLp:\n", matchesRegexLp);
            }

            // Formats the "Words containing this kanji" textbox.
            function formatWordsContainingThisKanji() {
                playClickSound();
                let regexLp = /((\()(?=[*"\w])|(?<=<br>)(\())/g;
                let regexLs = /((\[)(?=[*"\w])|(?<=<br>)(\[))/g;
                let regexRs = /((\])(?=[*"\w])|(?<=<br>)(\]))/g;
                let regexLc = /((\{)(?=[*"\w])|(?<=<br>)(\{))/g;
                let regexNone = /([\u200b]|^\s*|^\s*(?=[.*\n]))/g;
                let regexNewline = /(\n\s*)(?=[&|(\w*.*\w\)])/g;
                let regexQm = /[“|”]/g;
                let regexIl = /\(<i>/g;
                let regexIr = /<\/i>\)/g;
                let regexMoreDef = /(?<=[\w)\]])(<br>|<br><br>)(?=[\w(\[])/g;
                let regexItalics = /(<i>|<\/i>)/g;
                
                hasKanjiTextArea.value = hasKanjiTextArea.value.replaceAll(regexLp, "&#40;").replaceAll(regexLs, "&#91;").replaceAll(regexRs, "&#93;").replaceAll(regexLc, "&#123;").replaceAll(regexQm, "\"").replaceAll(regexNone, "").replaceAll(regexNewline, "\n").replaceAll(regexIl, "&#40;").replaceAll(regexIr, ")").replaceAll(regexMoreDef, " ;; ").replaceAll("(<i>", "&#40;").replaceAll("<br>(", "<br>&#40;").replaceAll("<br>&#40;<i>", " ;; &#40;").replaceAll(regexItalics, "").replaceAll("‐", "-");
            }

            // Formats the "Example usage" textbox.
            function formatExamples() {
                playClickSound();
                examplesTextArea.value = examplesTextArea.value.replaceAll("<rp>(</rp>", "").replaceAll("<rp>)</rp>", "").replaceAll("<br />", "").replaceAll("<ruby>", "(").replaceAll("<rt>", ")[").replaceAll("</rt></ruby>", "]").replaceAll("()[]", "").replaceAll("{}[]", "").replaceAll("<b>", "`").replaceAll("</b>", "~").replaceAll("(<rb>", "(").replaceAll("</rb>)", ")");

                // TBD
                // add an option that adds boldface to the target word, mostly likely:
                // 1. get the word on the search bar
                // 2. use regex magic to apply bold tags on the example sentences textbox, based on what was on the search bar
                // 3. try to format empty "containers", e.g. ()[] and {}[]
                // let test1 = searchBar.value;
                // let test2 = examplesTextArea.value;
                // console.log(test1);
                // console.log(test2);
            }
    
            // Adds all of text in the textboxes into one big string, and put it in the HTML box and the preview box below.
            function convertText() {
                playClickSound();
                let final = "";
                let finalWithColors = "";

                if (altFormsCheckbox.checked) {
                    final += `<span class=\"alt-forms\">${reformat(altFormsTextArea.value)}</span>`;
                    finalWithColors += `<span style='color: #f00;'>&lt;span class=\"alt-forms\"&gt;${reformat(altFormsTextArea.value).replaceAll("<", "&lt;").replaceAll(">", "&gt;")}&lt;/span&gt;</span>`;
                } if (readingsCheckbox.checked) {
                    if (altFormsCheckbox.checked) {
                        final += "<br><br>";
                        finalWithColors += "<span style='color: #daa520;'>&lt;br&gt;&lt;br&gt;</span>";
                    }
                    final += `<span class=\"readings\">${reformat(readingsTextArea.value)}</span>`;
                    finalWithColors += `<span style='color: #daa520;'>&lt;span class=\"readings\"&gt;${reformat(readingsTextArea.value).replaceAll("<", "&lt;").replaceAll(">", "&gt;")}&lt;/span&gt;</span>`;
                } if (definitionsCheckbox.checked) {
                    if (readingsCheckbox.checked || altFormsCheckbox.checked) {
                        final += "<br><br>";
                        finalWithColors += "<span style='color: #32cd32;'>&lt;br&gt;&lt;br&gt;</span>";
                    }
                    final += `<span class=\"definitions\">${reformat(definitionsTextArea.value)}</span>`;
                    finalWithColors += `<span style='color: #32cd32;'>&lt;span class=\"definitions\"&gt;${reformat(definitionsTextArea.value).replaceAll("<", "&lt;").replaceAll(">", "&gt;")}&lt;/span&gt;</span>`;
                } if (hasKanjiCheckbox.checked) {
                    if (definitionsCheckbox.checked) {
                        final += "<br><br>";
                        finalWithColors += "<span style='color: #00f;'>&lt;br&gt;&lt;br&gt;</span>";
                    }
                    final += `<span class=\"haskanji\">words with this kanji:<br>${reformat(hasKanjiTextArea.value)}</span>`;
                    finalWithColors += `<span style='color: #00f;'>&lt;span class=\"haskanji\"&gt;words with this kanji:&lt;br&gt;${reformat(hasKanjiTextArea.value).replaceAll("<", "&lt;").replaceAll(">", "&gt;")}&lt;/span&gt;</span>`;
                } if (examplesCheckbox.checked) {
                    if (definitionsCheckbox.checked || hasKanjiCheckbox.checked) {
                        final += "<br><br>";
                        finalWithColors += "<span style='color: #f0f;'>&lt;br&gt;&lt;br&gt;</span>";
                    }
                    final += `<span class=\"examples\">${reformat(examplesTextArea.value)}</span>`;
                    finalWithColors += `<span style='color: #f0f;'>&lt;span class=\"examples\"&gt;${reformat(examplesTextArea.value).replaceAll("<", "&lt;").replaceAll(">", "&gt;")}&lt;/span&gt;</span>`;
                }

                ankiHTML.innerHTML = finalWithColors;
                preview.innerHTML = final;
                preview.value = final;
            }
    
            // Copies text and puts it in your clipboard. It just works.
            function copy(text) {
                playClickSound();
                let input = document.createElement("textarea");
                input.innerHTML = text;
                document.body.appendChild(input);
                input.select();
                let result = document.execCommand("copy");
                document.body.removeChild(input);

                return result;
            }

            // The default ticked checkboxes.
            altFormsHeader.style.color = "#f00";
            readingsHeader.style.color = "#daa520";
            definitionsHeader.style.color = "#32cd32";
            examplesHeader.style.color = "#f0f";

            // Changes the color of an associated header text to a specified color.
            function toggleHeaderColor(e, header, color) {
                if (e.currentTarget.checked)
                    header.style.color = color;
                else {
                    if (document.body.classList.contains("light-mode"))
                        header.style.color = "#000";
                    else
                        header.style.color = "#fff";
                }
            }

            // Changes the orientation of the example sentences in the preview below.
            function toggleVertical() {
                playClickSound();
                let examples = document.getElementsByClassName("examples")[0];

                if (examples.style.writingMode == "vertical-rl") {
                    examples.style.writingMode = "horizontal-tb";
                    examples.style.float = "none";
                    toggelVerticalButton.innerHTML = "toggle vertical";
                } else {
                    examples.style.writingMode = "vertical-rl";
                    examples.style.float = "right";
                    toggelVerticalButton.innerHTML = "toggle horizontal";
                }
            }

            // Copyright year at the bottom of the page. May be inaccurate in like, a few decades. Or even tomorrow.
            document.getElementById("copyright-year").innerHTML = new Date().getFullYear();

            // RIGHT SIDE
            // The search bar to get entries from.
            let searchBar = document.getElementById("search-bar");
            let goButton = document.getElementById("go-button");

            // The header above the iframe that shows what is being searched by the user.
            let iframeHeader = document.getElementById("iframe-header");

            // The iframe that contains the website.
            let iframe = document.getElementById("external-content");
            
            // Radio buttons for modifying the search destination.
            let searchMode = document.getElementsByName("search-mode");
            let wiktionaryEnglishRadio = document.getElementById("wiktionary-english-radio");
            let wiktionaryJapaneseRadio = document.getElementById("wiktionary-japanese-radio");
            let jishoDefinitionsRadio = document.getElementById("jisho-definitions-radio");
            let jishoKanjiRadio = document.getElementById("jisho-kanji-radio");
            let jishoNamesRadio = document.getElementById("jisho-names-radio");
            let jishoSentencesRadio = document.getElementById("jisho-sentences-radio");
            let massifRadio = document.getElementById("massif-radio");
            let youreiRadio = document.getElementById("yourei-radio");
            let ejjeRadio = document.getElementById("ejje-radio");
            let eijirouRadio = document.getElementById("eijirou-radio");
            let wikipediaJapaneseRadio = document.getElementById("wikipedia-japanese-radio");
            let furiganaBunkoRadio = document.getElementById("furigana-bunko-radio");
            let drk7jpRadio = document.getElementById("drk7jp-radio");

            // Searches a word using a value from the search bar. This also reloads the iframe after being called.
            // look for something like 別表記 for alternative forms, and it must be in the 日本語 section
            function searchWord() {
                playClickSound();
                let word = searchBar.value;
                let showingResultsForWord = `<br>Showing results for <strong>"${word}"</strong> in`;
                iframeHeader.style.display = "block ruby";
                if (wiktionaryEnglishRadio.checked) {
                    iframe.src = `https://en.wiktionary.org/wiki/${word}#Japanese`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>English Wiktionary</strong>.`;
                } if (wiktionaryJapaneseRadio.checked) {
                    iframe.src = `https://ja.wiktionary.org/wiki/${word}#日本語`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>ウィクショナリー日本語版</strong>.`;
                } if (jishoDefinitionsRadio.checked) {
                    iframe.src = `https://jisho.org/search/${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>jisho.org (definitions)</strong>.`;
                } if (jishoKanjiRadio.checked) {
                    iframe.src = `https://jisho.org/search/${word}%23kanji`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>jisho.org (kanji)</strong>.`;
                } if (jishoNamesRadio.checked) {
                    iframe.src = `https://jisho.org/search/${word}%23names`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>jisho.org (names)</strong>.`;
                } if (jishoSentencesRadio.checked) {
                    iframe.src = `https://jisho.org/search/${word}%23sentences`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>jisho.org (sentences)</strong>.`;
                } if (massifRadio.checked) {
                    iframe.src = `https://massif.la/ja/search?q=${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>Massif</strong>.`;
                } if (youreiRadio.checked) {
                    iframe.src = `https://yourei.jp/${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>用例.jp</strong>.`;
                } if (ejjeRadio.checked) {
                    iframe.src = `https://ejje.weblio.jp/sentence/content/${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>英和辞典・和英辞典 - Weblio辞書</strong>.`;
                } if (eijirouRadio.checked) {
                    iframe.src = `https://eow.alc.co.jp/search?q=${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>英辞郎 on the WEB</strong>.`;
                } if (wikipediaJapaneseRadio.checked) {
                    iframe.src = `https://ja.wikipedia.org/w/index.php?search=${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>ウィキペディア日本語版</strong>.`;
                } if (furiganaBunkoRadio.checked) {
                    iframe.src = `https://furigana.info/w/${word}`;
                    iframeHeader.innerHTML = `${showingResultsForWord} <strong>ふりがな文庫</strong>.`;
                } if (drk7jpRadio.checked) {
                    iframe.src = "https://www.drk7.jp/pub/tools/YahooRuby/index.cgi";
                    iframeHeader.innerHTML = "";
                }
            }

            function toggleSearchButton(text) {
                if (!text)
                    goButton.disabled = true;
                else
                    goButton.disabled = false;
            }

            // Check if a URL exists. Currently unused.
            function urlExists(url) {
                var http = new XMLHttpRequest();
                http.open('HEAD', url, false);
                http.send();
                return http.status != 404;
            }

            // BOTH SIDES

            // Play a :click" sound when the user clicks on a button.
            function playClickSound() {
                let audio = document.getElementById("audio");
                // makes the sound play multiple times if you spam click
                audio.pause();
                audio.currentTime = 0;
                audio.play();
            }

            // Clears the values of all the objects on screen.
            function clearAll(mode) {
                // Soft reset, only clear the textboxes.
                let ankiHTMLPlaceholderText = "The resulting HTML code from the other textboxes. The output depends on the checkboxes you ticked. You can copy text from here, but you're not allowed to edit it from here.<br>Click <strong>convert</strong> to get the input from other textboxes and combine them automatically into HTML code. Click <strong>copy</strong> to put text from here into your clipboard.";

                if (mode == 0) {
                    playClickSound();
                    altFormsTextArea.value = "";
                    readingsTextArea.value = "";
                    definitionsTextArea.value = "";
                    hasKanjiTextArea.value = "";
                    examplesTextArea.value = "";
                    tempTextArea.value = "";

                    ankiHTML.value = "";
                    ankiHTML.innerHTML = ankiHTMLPlaceholderText;
                    preview.innerHTML = "";
                } else if (mode == 1) {
                    // Hard reset, clear everything.
                    // Left side of the screen.
                    altFormsTextArea.value = "";
                    readingsTextArea.value = "";
                    definitionsTextArea.value = "";
                    hasKanjiTextArea.value = "";
                    examplesTextArea.value = "";
                    tempTextArea.value = "";

                    ankiHTML.value = "";
                    ankiHTML.innerHTML = ankiHTMLPlaceholderText;
                    // preview.innerHTML = "";

                    // Loops through all radio buttons, as if it were a list.
                    for (let radioButton = 0; radioButton < conversionMode.length; ++radioButton)
                        conversionMode[radioButton].checked = false;
                    regularWord.checked = true;
    
                    altFormsCheckbox.checked = true;
                    readingsCheckbox.checked = true;
                    definitionsCheckbox.checked = true;
                    hasKanjiCheckbox.checked = false;
                    examplesCheckbox.checked = true;

                    // Right side of the screen.
                    searchBar.value = "";
                    iframeHeader.innerHTML = "";

                    for (let radioButton = 0; radioButton < searchMode.length; ++radioButton)
                        searchMode[radioButton].checked = false;
                    wiktionaryEnglishRadio.checked = true;

                    let homePages = [
                        "https://en.wiktionary.org",
                        "https://ja.wiktionary.org",
                        "https://jisho.org",
                        "https://massif.la",
                        "https://yourei.jp",
                        "https://ejje.weblio.jp",
                        "https://eow.alc.co.jp",
                        "https://ja.wikipedia.org",
                        "https://furigana.info",
                        "https://www.drk7.jp"
                    ];
                    iframe.src = homePages[Math.floor(Math.random() * homePages.length)]
                }
            }

            // Clear everything on page load.
            window.onload = clearAll(1);

            /* document.getElementById("search-bar")
                .addEventListener("keydown", function(event) {
                event.preventDefault();
                // Enter key at the moment.
                // Make this to right shift + enter later.
                // IME conflicts with this feature so you need to fix this anomaly ASAP.
                if (event.keyCode === 13) {
                    console.log("the grass is always greener");
                    document.getElementById("go-button").click();
                }
            }); */

            /* var keyPressed = {};
            document.addEventListener('keydown', function(e) {
            keyPressed[e.key + e.location] = true;
                if(keyPressed.Shift1 == true && keyPressed.Control1 == true){
                    // Left shift+CONTROL pressed!
                    keyPressed = {}; // reset key map
                }
                if(keyPressed.Shift2 == true && keyPressed.Control2 == true){
                    // Right shift+CONTROL pressed!
                    keyPressed = {};
                }
            }, false);
            document.addEventListener('keyup', function(e) {
                keyPressed[e.key + e.location] = false;
                keyPressed = {};
            }, false);

            document.getElementById("search-bar")
                .addEventListener("keydown", function(event) {
                event.preventDefault();
                if (event.keyCode === 16) {
                    console.log("on the other side");
                    if (event.keyCode === 13) {
                        console.log("foo");
                        document.getElementById("go-button").click();
                    }
                }
            }); */

            function toggleDarkMode() {
                playClickSound();
                /*
                It's 2024, and these self-righteous, iPhone-wielding, windbags whine about
                everything if something can't be toggled into dark mode.

                The ancient ones have cleaved a massive rift on the Earth, and spew out a
                questionable elixir that will cure all ills, the panacea of the so-called,
                as mystics call it, the "Light Mode" epidemic. Millions have succumbed from
                its deleterious maladies it brings, with kindreds being a few steps near 
                from Death's door. It was about time that man had come forth on such a 
                subterranean beauty, for the blight, after all these eons, will finally
                end once and for all.
                
                I have this as a solution. Now shut the fuck up and be happy.
                I miss those bright-ass screens scorching my eyes.
                */

                let body = document.body;

                // do something with session storage later
                // sessionStorage.setItem("dark-mode", true);
                // && sessionStorage.getItem("dark-mode")

                if (document.body.classList.contains("light-mode")) {
                    body.classList.toggle("dark-mode");
                    body.classList.toggle("light-mode");
                    lightDarkModeButton.innerHTML = "光";
                } else {
                    body.classList.toggle("light-mode");
                    body.classList.toggle("dark-mode");
                    lightDarkModeButton.innerHTML = "闇";
                }
            }
            console.log("Welcome to the console.");

            console.log(
            `コンソールちゃん alerts you of the seven Forbidden Gospels of the Stars.
            \nOne has to seek for meanings between the lines, ...and frequencies.
            \n` +
            `
                ⣿⣿⣿⣿⡿⠟⠛⠋⠉⠉⠉⠉⠉⠛⠛⠻⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
                ⣿⣿⠟⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠈⠙⠾⣿⣾⣿⣾⣿⣾⣿⣾⣿
                ⠋⡁⠀⠀⠀⠀⠀⢀⠔⠁⠀⠀⢀⠠⠐⠈⠁⠀⠀⠁⠀⠈⠻⢾⣿⣾⣿⣾⣟⣿
                ⠊⠀⠀⠀⠀⢀⠔⠃⠀⠀⠠⠈⠁⠀⠀⠀⠀⠀⠀⠆⠀⠀⠄⠀⠙⣾⣷⣿⢿⣿
                ⠀⠀⠀⠀⡠⠉⠀⠀⠀⠀⠠⢰⢀⠀⠀⠀⠀⠀⠀⢰⠀⠀⠈⡀⠀⠈⢿⣟⣿⣿
                ⠀⠀⢀⡜⣐⠃⠀⠀⠀⣠⠁⡄⠰⠀⠀⠀⠀⠀⠀⠐⠀⠀⠀⠰⠀⠀⠈⢿⣿⣿
                ⠀⢠⠆⢠⡃⠀⠀⠀⣔⠆⡘⡇⢘⠀⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⣿⣿
                ⢀⡆⠀⡼⢣⠀⢀⠌⢸⢠⠇⡇⢘⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿
                ⣼⣃⠀⠁⢸⢀⠎⠀⢸⠎⠀⢸⢸⡄⠀⠀⠀⠀⠀⠂⢀⠀⠀⠀⠀⠀⠀⠀⠀⣿
                ⠃⡏⠟⣷⣤⠁⠀⠀⠸⠀⠀⡾⢀⢇⠀⠀⠀⠀⠀⠄⠸⠀⠀⠀⠀⠄⠀⠀⠀⣿
                ⠀⠀⣀⣿⣿⣿⢦⠀⠀⠀⠀⡧⠋⠘⡄⠀⠀⠀⠀⡇⢸⠀⠀⠠⡘⠀⠀⠀⢠⣿
                ⠈⠀⢿⢗⡻⠃⠀⠀⠀⠀⠀⠀⠀⠀⠱⡀⠀⠀⢰⠁⡇⠀⠀⢨⠃⡄⢀⠀⣸⣿
                ⠀⠀⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣱⠀⠀⡎⠸⠁⠀⢀⠞⡸⠀⡜⢠⣿⣿
                ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣺⣿⣧⢰⣧⡁⡄⠀⡞⠰⠁⡸⣠⣿⣿⣿
                ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⡿⠏⣿⠟⢁⠾⢛⣧⢼⠁⠀⠀⢰⣿⡿⣷⣿
                ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠡⠄⠀⡠⣚⡷⠊⠀⠀⠀⣿⡿⣿⡿⣿
                ⡀⠀⠀⠀⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⠊⠁⢸⠁⠀⠀⠀⢰⣿⣿⡿⣿⣿
                ⠱⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠊⠀⠀⠀⡞⠀⠀⠀⠀⢸⣿⣷⣿⣿⣿
                ⠀⠙⢦⣀⠀⠀⠀⠀⠀⢀⣀⣠⠖⠁⠀⠀⠀⠀⠀⡇⠀⠀⠀⠀⣸⣿⣾⡿⣷⣿
                ⠀⠀⠀⠀⠉⠉⣩⡞⠉⠁⠀⢸⡄⠀⠀⠀⠀⠀⢰⠇⠀⠀⠀⠀⣿⣿⣷⣿⣿⣿
                ⡆⠀⠀⣀⡠⠞⠁⣧⢤⣀⣀⣀⡇⠀⠀⠀⠀⠀⣸⠀⠀⠀⠀⠀⣿⣷⣿⣷⣿⣿
                ⣿⣷⠊⠁⠀⠀⡰⠁⠀⠀⠀⠀⣹⠶⢦⡀⠀⠀⡇⠀⠀⠀⠀⠀⢸⣿⣷⣿⣷⣿
                ⣿⢿⠀⠀⠀⡔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⡄⡇⠀⠀⠀⠀⠀⠈⣿⣾⣷⣿⣿
                ⠋⠈⠀⢀⠜⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠀⠈⣧⠀⠀⠀⠀⠀⠀⠻⣿⣽⣾⣿
                ⢀⡄⡠⠊⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠁⠀⠀⠀⣸⠀⠀⠀⠀⠀⠀⠀⣿⣿⣻⣿
                ⣿⠋⠀⠀⠀⠀⠀⠀⠀⠀⢰⠀⠐⠀⠀⠀⠀⣀⡿⠀⠀⠀⠀⠀⠀⠀⢹⣿⣻⣿
                ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡼⠀⠀⠀⠀⠀⢀⣃⡇⠀⠲⡀⠀⠀⠀⠀⠈⣿⡿⣿
                ⣀⠤⠤⠤⡀⠀⠀⠀⠀⡴⠃⠀⠀⠀⠀⠀⢬⠞⡇⠀⠀⠇⠀⠀⠀⠀⠀⣿⣿⣿
                ⡁⢀⠀⠀⡇⠀⠀⠀⡼⠁⠀⠀⠀⠀⠀⣸⠁⠀⠇⠀⠀⡇⠀⠀⠀⠀⠀⣿⣿⣿
                ⠔⠃⠀⠀⡇⠀⠀⡼⠁⠀⠀⠀⠀⠀⢀⡇⠀⠀⡃⠀⠀⠙⢄⠀⠀⠀⠀⣿⣷⣿
                ⠒⠊⠀⠀⢸⠀⣸⠃⠀⠀⠀⠀⠀⠀⡞⠀⠀⠀⢅⠀⠀⡂⠸⡄⠀⠀⠀⣿⣟⣿
                ⠓⠀⠉⠀⢸⣰⠃⠀⠀⠀⠀⠀⠀⡜⡆⠀⠀⠀⢸⠀⠀⡇⢀⠇⠀⠀⠀⣿⣿⣿
                ⠉⠁⠀⢠⠞⠀⠀⠀⠀⠀⠀⠀⣰⠁⡇⠀⠀⠀⡇⠀⠀⡇⢸⠀⠀⠀⠀⣿⣷⣿
                ⡀⠀⢀⢿⣥⡤⠤⠤⠤⣀⣀⢠⠇⠀⢸⠀⠀⢰⠁⠀⢨⠀⢸⠀⠀⠀⠀⣿⣟⣿
                x
                "What say ye, lore of the ancients long gone?"
            `.replaceAll(/^\s*/g, "").replaceAll(/\n\s*/g, "\n").replace("x", "\n"));

            // forbidden gospels of the stars
            console.log("宇宙から七つの禁断福音");
            console.log((function(){var d=Array.prototype.slice.call(arguments),e=d.shift();return d.reverse().map(function(l,i){return String.fromCharCode(l-e-49-i)}).join('')})(9,12561,26478,26477,65379,12432,65363,12520,65380,12481,12517)+(function(){var o=Array.prototype.slice.call(arguments),i=o.shift();return o.reverse().map(function(D,u){return String.fromCharCode(D-i-38-u)}).join('')})(7,21373,65363,65383,12468,26459,65359,12399)+(function(){var x=Array.prototype.slice.call(arguments),P=x.shift();return x.reverse().map(function(g,b){return String.fromCharCode(g-P-34-b)}).join('')})(34,12468,12490,65377,12465));
            console.log((function(){var h=Array.prototype.slice.call(arguments),f=h.shift();return h.reverse().map(function(M,o){return String.fromCharCode(M-f-49-o)}).join('')})(28,12711,12706,21537,12675,65545,12627,12608,65526,12586,65542,21529,65536,12637,12581,65529,12690,12632,12590,65526,12716,65510,12556,12613,12614,12647,12612,12605,12701,65527,65489,65510,12594,12637,65484,12601,65520,65516,12570,65517,12580,20190,65477,65503,65496,65491,65472,12665,65498,65489,12533,65482,65493,65465,12625,12530,12594,65462,65487,12634,12512,12517,65457,65463,12608,12549,12672,12569,65470,12660,12607,65467,12613,12559,12671,65461,12662,12635,12517,65453,12626,65464,65453,65469,12524,65448,65458,12619,12545,12623,65444,12525,12495,65458,65426,65450,65456,12632,65439,12580,12487,65430,12548,65453,12513,65418,12509,12531,65445,65432,12596,12461,12596,12566,12481,65441,22865,65426,12460,65402,65420,12493,12584,12602,12514,65428,12582,12506,65422,65405,65413,12505,21408,65401,12591,65402,12543,12483,65414,12494,12468,65390)+(function(){var T=Array.prototype.slice.call(arguments),t=T.shift();return T.reverse().map(function(f,i){return String.fromCharCode(f-t-45-i)}).join('')})(32,12520,12534,65472,65495,12595,12569,65492,12590,12576,12664,65457,12547,12519,65479,12640,12566,12525,65481,12602,26559,65464,12565,12519,12597,65455,65475,12554,65457,12534,12502,12533,12596,65462,65447,65440,65465,65430,65461,12520,12588,12637,12502,12520,65441,26534,12532,12631,65453,65419,65440,12577,65430,12546,65426,65437,12533,65443,65432,12498,12561,65422,65420,65438,65436,65432,65406,12469,12510,12605,65416,12493,12556,12461,12453,65400,12579,12505,12577,65393,12505,65419,65423,12574,21405,65383,12569,12502,65387,12510,12571)+(function(){var P=Array.prototype.slice.call(arguments),d=P.shift();return P.reverse().map(function(s,h){return String.fromCharCode(s-d-50-h)}).join('')})(9,21480,65477,65470,12616,65479,12680,22915,65455,65465,12571,65453,12569,65479,12604,12552,65443,12649,65449,12562,65476,65456,12512,12643,65468,12530,12592,65433,65439,65450,12636,12589,65443,12523,65426,65428,12584,12519,12596,65442,65455,12577,12507,65435,65434,12621,12620,12487,12501,12571,12597,12475,65439,12567,65430,65426,12576,65435,12612,65414,65416,12458,12474,12623,65422,12555,12511,12553,65410,65406,65414,12595,26499,12574,65386,65400,12501,12502,20094,12568,22842,65397,12536,12496,12508,12471,12580,12533,12448,12531,65394,12562,12528,65371,12524,12475,12570,65381,12483,65373,12553)+(function(){var X=Array.prototype.slice.call(arguments),B=X.shift();return X.reverse().map(function(U,Y){return String.fromCharCode(U-B-28-Y)}).join('')})(19,65383,12481,12446,65372,22810)+(function(){var B=Array.prototype.slice.call(arguments),q=B.shift();return B.reverse().map(function(E,S){return String.fromCharCode(E-q-0-S)}).join('')})(20,21342));
            console.log((function(){var W=Array.prototype.slice.call(arguments),v=W.shift();return W.reverse().map(function(q,L){return String.fromCharCode(q-v-10-L)}).join('')})(18,12546,12547,65430,12586,65449,12488,65427,65420,65447,65438,65431,12608,12623,12514,65438,12586,65432,65443,65445,65437,65422,12582,65420,12632,65421,65404,12499,12515,65401,12587,12496,12457,65397,26507,65416,12620,12494,12582,12549,65423,12508,65403,12446,12539,65417,12537,65383,65385,12574,65403,65379,12509,65395,12497,65382,65395,65380,12562,12467,12459,65372,20080,12488,65373,12516,65398,12548,65379,65397,65372,65374,65372,12425,12516,65371,12475,12563,12562,12482,65352,12555,12467,65359,20058,12404,12510,65362,65355,65360,12491,12407,65345,12432,65373,65367,12521,65349,65346,12462,12427,12460)+(function(){var w=Array.prototype.slice.call(arguments),G=w.shift();return w.reverse().map(function(v,I){return String.fromCharCode(v-G-47-I)}).join('')})(44,12525,12555,65483,12651,65472,12609,65457,12585,12583,12528,12670,12581,12615,12658,12557,12565,12632,65460,12538,65456,12599,12600,12556,12512,65437,65473,65447,12500,12659,12621,12550,65464,12524,65465,12480,65457,12644,12541,12518,65436,12517,12594,65456,12537,12583,65429,65431,65431,65431,65427,12532,65410,65431,12598,65420,12501,12522,12478,12467,12521,12627,65432,12571,65413,12493,12515,12486,12604,20105,65399)+(function(){var P=Array.prototype.slice.call(arguments),A=P.shift();return P.reverse().map(function(F,W){return String.fromCharCode(F-A-29-W)}).join('')})(19,12561,12503,12503,12537,65393,65382,12436,65386,65378,12441,65401,12482,12555,21382,65395,12565,12449,12453,12514,12565,21375,65390,12526,12557,12522,65349)+(function(){var z=Array.prototype.slice.call(arguments),J=z.shift();return z.reverse().map(function(P,T){return String.fromCharCode(P-J-3-T)}).join('')})(47,12452,12474,12569,12570)+(function(){var k=Array.prototype.slice.call(arguments),F=k.shift();return k.reverse().map(function(H,s){return String.fromCharCode(H-F-39-s)}).join('')})(59,12520));
            console.log((function(){var t=Array.prototype.slice.call(arguments),f=t.shift();return t.reverse().map(function(Q,T){return String.fromCharCode(Q-f-33-T)}).join('')})(60,12793,12750,12889,26806,65723,12846,12811,65706,65704,12753,12854,12880,12781,12891,12814,12889,65714,65698,12801,12896,21699,12835,12795,12766,12738,12892,12865,12792,12765,65701,12894,65679,65684,26776,65688,12889,12742,65692,65660,65683,12851,20369,12787,12769,65670,65667,12839,65663,65664,12800,12749,23109,65682,65674,65660,12702,65660,12801,65664,12797,65650,65659,20348,65648,65651,12746,12825,12727,65630,12725,12723,12844,12717,12776,12754,12718,12780,12742,12739,65638,65631,65649,12788,12775,12673,65620,12799,12821,12711,65633,65641,65622,12816,12811,65603,65627,12666,65608,12826,12730,65616,12716,65611,65613,65606,12765,65591,12722,12681,12657,12683,12804,12682,12704,12650,12809,12714,65612,12797,65606,12767,12737,65574,65596,12793,65591,65605,12690,65607,65571,65589,65599,65584,12723,65589,65578,12693,12658,12718,65593,12745,12723,12654,26666,12712,12683,65573,65576,23012,12715,12758,12623,65581,12659,65577,65564,12631,12713,12620,12670,65538,12730,65555,65554,12721,12634,12627,65555,12681,12755,65530,12678,65558,65543,12682,12612,65536,12672,12737,26630,65541,65521,12580,12636,65514,65525,12699,65525,12606,21530,65533,65540,12637,65524,65538,12729,12600,65503,12653,12716,12619,12684,65496,65512,65526,65500,65506,12622,12558,65508,12707,12645,12562,65503,12694,65514,65497,65499,12706,22941,12638,12635,12565,12534,12571,65480,65495,65471,12623,12560,12569,12620,65481,65492,65490,12623,65477,65485,12519,65474,65480,65483,65469,65467,65468,65484,65488,65468,65465,65452,12637,12523,12665,12504,21465,65450,12573,12539,12557,65471,12555,12532,12587,12601,65447,12534,12562,65468,12504,65451,12492,12524,12500,12484,12543,65436,65440,65457,65444,65435,12486,12514,20100,21436,65450,65437,12508,12577,65444,12530,65410,65438,12525,12592,12502,12592,12493,12511,65433,65431,65401,65433,12562,20107,12458)+(function(){var I=Array.prototype.slice.call(arguments),m=I.shift();return I.reverse().map(function(Q,N){return String.fromCharCode(Q-m-48-N)}).join('')})(34,12834,12794,65695,65671,12789,12895,12721,12854,65700,65678,65693,65695,12888,12880,12749,12852,12777,65664,65671,65669,65685,12744,65669,65666,65668,26760,12712,12777,65658,12803,12761,65675,12808,12717,65647,65662,65638,12732,65665,65635,12821,12852,12763,65664,65642,65643,65659,12741,12845,65649,12692,12718,12841,12685,65654,65656,65647,65649,12788,12834,12731,21634,65627,65625,12803,65621,12699,65624,65621,12694,12668,12722,12697,12665,12714,12816,12824,12787,12802,12705,12747,65625,65599,12817,12688,65606,12805,23049,12771,12649,12714,21604,12677,12774,65595,65610,65594,65601,12782,65607,65595,65575,12636,12701,12665,65583,65599,12643,26677,65602,12683,12723,65579,12657,12679,12719,65582,12688,12630,21576,12705,65572,65554,12757,21571,65582,12667,12740,12637,12738,12641,65550,12595,65564,12698,12636,65572,65564,12723,12667,12753,65557,12596,65531,65545,65553,12592,65563,12594,65537,65527,12695,65553,12610,65553,65551,21539,12638,65550,12666,65526,65527,65533,12577,12682,12641,12727,65528,26617,12564,65504,65518,65517,12707,12710,12665,12651,65522,12591,65519,65515,12584,12685,12651,12643,12706,65495,12551,65503,65492,65507,12580,12550,65500,12633,65481,65509,20189,65508,12685,65495,65491,12561,65487,12601,12576,20180,12633,65485,12560,65488,65484,12628,12582,65467,12557,12624,12516,65491,12544,12626,12560,65483,65451,12669,12600,12608,65461,12563,65477,65473,65455,65456,65458,65455,12656,65475,12627,12642,65438,12623,65446,65444,65455,12489,65444,65450,65450,12557,21446,12477,65436,12517,65445,12571,65451,12611,65421,12567,65452,12512,21434,12503,65435,12597,12594,12539,65407,65420,65422,22866,12467,12516,12496,65414,65422,65424,65400,65420,12555,65431,12494,12552,65415,12511,12478,26499,65410,12505,12476,12515,12490)+(function(){var r=Array.prototype.slice.call(arguments),c=r.shift();return r.reverse().map(function(J,E){return String.fromCharCode(J-c-50-E)}).join('')})(37,12683,65546,65538,12615,65522,12615,12648,12647,65547,65533,12630,12672,12671,65529,12573,12714,12717,12607,65523,12662,12579,65520,12592,22962,65498,12619,65520,12713,12591,65506,12569,65506,12649,12707,12599,12641,12697,12652,12691,65518,12657,12669,12595,65501,65515,12537,65489,21497,12635,65498,12541,65472,12624,12565,21490,12640,65483,65498,65465,12622,65478,65488,12591,12528,12625,12538,12587,12520,65489,12647,65468,12678,12565,21471,12566,65448,65446,12577,65481,12508,65475,65457,12517,65471,65456,12568,65455,65450,65458,12653,12623,65449,12550,65443,12520,12621,12522,12643,65449,65441,65425,65443,12474,12626,12483,65450,12506,22878,12468,65412,12564,65448,12506,65422,12581,12461,65440,12632,12571,12591,65425,12523,65437,65417,12609,65429,12529,65431,65426,12491,12510,65396,12597,65422,65404,12447)+(function(){var b=Array.prototype.slice.call(arguments),T=b.shift();return b.reverse().map(function(w,v){return String.fromCharCode(w-T-39-v)}).join('')})(25,12495,65412,65432,12584,12602,12484,65426,65408,65399,12542,65408,65410,12518,65389,12537,12444,65383,65414,12601,12449,12477,65386,12469,12603,65376,12535,12488,12566,12486,12447,12530,12541,12587,65381,12425,12525)+(function(){var D=Array.prototype.slice.call(arguments),a=D.shift();return D.reverse().map(function(K,F){return String.fromCharCode(K-a-39-F)}).join('')})(50,65433,12520,12568,65420,65431,65406,12472,65428,26507,12584,65393,12514,65429,65409,12543)+(function(){var Z=Array.prototype.slice.call(arguments),r=Z.shift();return Z.reverse().map(function(S,J){return String.fromCharCode(S-r-29-J)}).join('')})(27,65370)+(function(){var Z=Array.prototype.slice.call(arguments),Y=Z.shift();return Z.reverse().map(function(n,B){return String.fromCharCode(n-Y-42-B)}).join('')})(8,12470,12472,12526,65371,12505,65366)+(function(){var O=Array.prototype.slice.call(arguments),q=O.shift();return O.reverse().map(function(e,n){return String.fromCharCode(e-q-17-n)}).join('')})(24,65368)+(function(){var Q=Array.prototype.slice.call(arguments),V=Q.shift();return Q.reverse().map(function(R,G){return String.fromCharCode(R-V-51-G)}).join('')})(22,65410));
            console.log((function(){var M=Array.prototype.slice.call(arguments),x=M.shift();return M.reverse().map(function(H,U){return String.fromCharCode(H-x-17-U)}).join('')})(59,65444,12545,12533,12628,12574,12580,12638,12477,12634,12513,65436,65417,65439,12509,65433,12531,65424,65425,12567,12523,65405,12517,21424,12589,12575,12464,12494,65412,65430,65428,65417,12447,20105,65407,65423,12562,12484,65412,12504,12505,65388,12475,12570,12572,12512,12597,65402,65404,65392)+(function(){var l=Array.prototype.slice.call(arguments),u=l.shift();return l.reverse().map(function(t,b){return String.fromCharCode(t-u-48-b)}).join('')})(5,65557,65539,65569,12624,12687,12720,65532,12627,26641,12722,12647,65539,65545,12751,65561,65552,12680,65533,65553,65531,65525,12638,65515,12646,65550,65525,65531,65524,12569,21530,65541,65522,65539,12722,65521,12669,65518,12569,65513,65517,12724,65497,65511,65509,12645,65511,12613,65525,12554,65526,12589,12677,65499,12636,12560,12614,12573,12691,12652,65497,12595,12596,65498,12528,65497,65488,65496,12643,12571,12643,12544,12598,65479,12616,21485,65481,65493,65482,12513,65478,12651,26568,12566,21476,65471,65455,12516,65476,12622,12563,65463,65461,65477,65444,12508,65450,65444,12594,12657,12597,12551,12501,12537,12607,12548,65448,65446,12548,12519,65441,65461,12601,12632,12585,65448,12610,22884,65443,65444,12515,12509,12485,65448,12632,12545,12477,65424,65435,12603,65421,12529,65419,65430,12598,65422,65436,12497,12618,12574,12586,65424,12492,65410,65411,12490,65400,12456,65414,12575,12520,12507,12467,65412,65384,12535,12436,65401,65398,12471,12489,12497,12603,65388,65389,12527,12492,65375,65403,12576,12458,21389,12456,12576,12486,12477,65387,12457,65380,12436,12433,12584,65359,65389,65387,12467)+(function(){var O=Array.prototype.slice.call(arguments),y=O.shift();return O.reverse().map(function(b,z){return String.fromCharCode(b-y-13-z)}).join('')})(61,65550,65545,12691,12711,65539,65540,65525,12726,12738,65532,12668,12630,12579,65516,65534,12626,12607,12720,12681,65531,12617,12574,12722,12657,12601,12655,65513,12596,65517,12578,12648,65495,12569,65511,65525,65513,65523,12585,65508,65501,65518,65501,12576,65498,12634,65489,65514,65512,65491,12650,12551,12552,12681,12550,12604,12538,12539,12636,12635,65486,65490,12585,12631,65477,12558,65476,12654,65472,12612,12549,12525,65456,12672,12660,12517,12605,12611,12603,65464,65481,21468,12505,65464,12565,65458,12602,65460,12571,12492,12604,65463,65435,12565,65447,65445,65456,12657,22892,12542,65442,12620,12643,12546,12584,12642,12490,21442,12605,12606,12507,12534,65431,12568,65437,65445,12618,65445,65443,65441,12601,65423,65423,12481,12564,65417,12461,12561,65433,12494,12519,65415,12455,12605,12613,12586,65405,12608,65402,65413,12539,65386,65407,65412,65397,12490,65403,12495,12533,12486,65402,12508,12473,12434)+(function(){var F=Array.prototype.slice.call(arguments),u=F.shift();return F.reverse().map(function(f,z){return String.fromCharCode(f-u-32-z)}).join('')})(42,65399,12473,65391,12476)+(function(){var g=Array.prototype.slice.call(arguments),c=g.shift();return g.reverse().map(function(a,B){return String.fromCharCode(a-c-25-B)}).join('')})(35,65427,26519,12466,65438,12471,12535,12492,65439,12475,12531,65415,65422,65414,65408,21416,65425,12544,65424,12544,12550,65423,65425,12451,21407,12504,65399,65401,65403,65402,65384,12539,65415,65380,65413,65412,22836,12533,12544,12472,12560,12445,12457,12488,65388,65379,12459,12573,12483,12471)+(function(){var V=Array.prototype.slice.call(arguments),W=V.shift();return V.reverse().map(function(X,b){return String.fromCharCode(X-W-59-b)}).join('')})(23,12563,12460,65413,65419,65430,12489,12542,65403,65410,21409,65410,26497,12495,12535,12543)+(function(){var M=Array.prototype.slice.call(arguments),J=M.shift();return M.reverse().map(function(n,Z){return String.fromCharCode(n-J-52-Z)}).join('')})(1,26472,65381,12578,12511,12517,65370,65369,65391)+(function(){var B=Array.prototype.slice.call(arguments),x=B.shift();return B.reverse().map(function(q,V){return String.fromCharCode(q-x-36-V)}).join('')})(48,12517,65425,12499,12590,12475,12529,12473,65427,65412,12447,12559,12564,65414,65397,12519,12519,65421,65411,65402)+(function(){var c=Array.prototype.slice.call(arguments),I=c.shift();return c.reverse().map(function(f,d){return String.fromCharCode(f-I-48-d)}).join('')})(59,65438,12564,12503,12637,12524,65409,12614)+(function(){var j=Array.prototype.slice.call(arguments),F=j.shift();return j.reverse().map(function(a,g){return String.fromCharCode(a-F-49-g)}).join('')})(27,65378,65389)+(function(){var h=Array.prototype.slice.call(arguments),B=h.shift();return h.reverse().map(function(b,p){return String.fromCharCode(b-B-53-p)}).join('')})(63,65440));
            console.log((function(){var K=Array.prototype.slice.call(arguments),u=K.shift();return K.reverse().map(function(E,a){return String.fromCharCode(E-u-9-a)}).join('')})(45,65392,12576,12518,12425,12486,12515)+(function(){var z=Array.prototype.slice.call(arguments),x=z.shift();return z.reverse().map(function(K,G){return String.fromCharCode(K-x-57-G)}).join('')})(17,65410,65385,65408,65378,65406)+(function(){var f=Array.prototype.slice.call(arguments),b=f.shift();return f.reverse().map(function(G,k){return String.fromCharCode(G-b-11-k)}).join('')})(11,65378,12409,12472,12405,12408,12449,12525,22799,12466,65349,65365,12401,12462,65346,12547,12382,12534,12425,12552,12455,12530,65339)+(function(){var X=Array.prototype.slice.call(arguments),b=X.shift();return X.reverse().map(function(O,S){return String.fromCharCode(O-b-42-S)}).join('')})(25,65379,12443,65380,12528,65408,12470,65388,12560,22834,12484,65384,12588,65389)+(function(){var Y=Array.prototype.slice.call(arguments),h=Y.shift();return Y.reverse().map(function(O,M){return String.fromCharCode(O-h-21-M)}).join('')})(19,12604,65379,65397,65391,12491,65385,65396,12564,65389,12500,12500,12525,65398,65372,12478,12556,12513,65363,12491,65359,65370,65381,65379,22817,12467,65367,12505,12417,12418,12446,12479,65366,65359,12419,12550,12503,65356,65362)+(function(){var X=Array.prototype.slice.call(arguments),k=X.shift();return X.reverse().map(function(q,E){return String.fromCharCode(q-k-57-E)}).join('')})(56,12512,65447,65433)+(function(){var I=Array.prototype.slice.call(arguments),g=I.shift();return I.reverse().map(function(J,R){return String.fromCharCode(J-g-11-R)}).join('')})(59,12475,12437,12538,12537)+(function(){var J=Array.prototype.slice.call(arguments),j=J.shift();return J.reverse().map(function(a,Q){return String.fromCharCode(a-j-24-Q)}).join('')})(39,12481));
            console.log((function(){var G=Array.prototype.slice.call(arguments),V=G.shift();return G.reverse().map(function(x,v){return String.fromCharCode(x-V-32-v)}).join('')})(1,65357,65355,12471,26450,12459,12444,65350,12466,12464)+(function(){var k=Array.prototype.slice.call(arguments),i=k.shift();return k.reverse().map(function(G,S){return String.fromCharCode(G-i-42-S)}).join('')})(18,12557,65369,12459,12497,12434,26476,12474,12480,12481,65383)+(function(){var M=Array.prototype.slice.call(arguments),r=M.shift();return M.reverse().map(function(K,L){return String.fromCharCode(K-r-34-L)}).join('')})(36,12599,65404,21392)+(function(){var p=Array.prototype.slice.call(arguments),V=p.shift();return p.reverse().map(function(y,I){return String.fromCharCode(y-V-8-I)}).join('')})(35,12513,12405,12440,12465)+(function(){var B=Array.prototype.slice.call(arguments),H=B.shift();return B.reverse().map(function(g,Z){return String.fromCharCode(g-H-18-Z)}).join('')})(12,65360,65368,65357,12448,12401,12427,22793)+(function(){var y=Array.prototype.slice.call(arguments),N=y.shift();return y.reverse().map(function(o,m){return String.fromCharCode(o-N-16-m)}).join('')})(13,26441));
        </script>
    </body>
</html>

<!--
    started doing this on 2022/10/15. you think you're hot shit because you wrote all of this crap by hand? fuck outta here and touch some grass you asocial fat fuck!
    github does not support word wrap. sorry that you had to scroll all the way to the right to read some text. open this in a text editor with word wrap and see it do its magic.
    EDIT 2023/07/13: turns out word wrap is supported now

    WHAT TO DO:
    the screen on the left contains the convert to anki thing, with checkboxes within each field (for example, one for the readings, another one for the definition, etc.). on the bottom of the screen, there should be a convert button that converts the following data from the fields above to the appropriate html code for anki conversion later. apply the same thing you did from the txt2markup files earlier like the copy to clipboard textbox etc and the conversion thing. (TBD)

    the screen on the right contains a search bar that asks for some japanese word and some radio buttons indicating what source to use when searching a word that is based on whatever is on the textbox. disable the search button if the search box is empty. the sources that you should use are wiktionary and jisho for definitions, and some sites like massif for example sentences.

    add a button that goes back and forward on the iframe's history (is this even possible?)
    try to modify the contents of the clipboard like converting all those left facing parentheses to its respective html codes? (no, this would screw up the kana conversion thing)

    make code that generates google search queries, for example:
    site:en.wiktionary.org "嚼"
    and some even more specific ones to find japanese alt-forms.

    it's okay to swear in this document because nobody will take this shit seriously anyway. i write shit code, i expect a lot of bugs. simple. swearing relieves me and makes my frustration go away. just don't swear too much, or else you're gonna sound like you're 7 and play cod idk fuk off bicht

    2023/03/12
    make something that automatically makes a verb template on a kanji verb. get the value of the entry on the search box, get the furigana on the readings textbox, and then make a template in the format of (kanji)[furigana]する - &#40;transitive) to < !--verbする- -> (space added because it messes up the format)
	^ turns out that this is really hard to do

    2024/03/04
    add another textbox for the card title and you include whatever is in it to the associated generated card thing you fucking know what i'm talking about

    RESOURCES
    be sure to save all of these at least once on the wayback machine
    remember, no antiquated jquery shit
    GeeksforGeeks
        https://www.geeksforgeeks.org/html-dom-input-checkbox-name-property
    Mozilla Developer Network (MDN) Docs
        https://developer.mozilla.org/ja/docs/Web/HTML/Element/input/checkbox
        https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/invert
        https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius
        https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/translate
        https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
        https://developer.mozilla.org/en-US/docs/Web/API/Element/append
        https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script
        https://developer.mozilla.org/ja/docs/Web/API/HTMLMediaElement/play
        https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/fastSeek
        https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp
    Stack Overflow
        https://stackoverflow.blog/2021/12/23/best-practices-for-writing-code-comments
        https://stackoverflow.com/questions/2637696/how-to-place-div-side-by-side
        https://stackoverflow.com/questions/17217766/two-divs-side-by-side-fluid-display
        https://stackoverflow.com/questions/5235142/how-do-i-disable-the-resizable-property-of-a-textarea
        https://stackoverflow.com/questions/3896537/should-i-size-a-textarea-with-css-width-height-or-html-cols-rows-attributes
        https://stackoverflow.com/questions/2554116/how-to-clear-radio-button-in-javascript
        https://stackoverflow.com/questions/9887360/how-can-i-check-if-a-checkbox-is-checked
        https://stackoverflow.com/questions/8206565/check-uncheck-checkbox-with-javascript
        https://stackoverflow.com/questions/28516561/how-can-i-load-a-webpage-into-a-div-element
        https://stackoverflow.com/questions/38931125/how-to-add-iframe-default-content-page
        https://stackoverflow.com/questions/86428/what-s-the-best-way-to-reload-refresh-an-iframe
        https://stackoverflow.com/questions/11863423/how-do-i-select-an-element-only-when-inside-another-element
        https://stackoverflow.com/questions/155188/trigger-a-button-click-with-javascript-on-the-enter-key-in-a-text-box
        https://stackoverflow.com/questions/5898656/check-if-an-element-contains-a-class-in-javascript
        https://stackoverflow.com/questions/38905647/css-scroll-bar-auto-scrolling-with-added-content
        https://stackoverflow.com/questions/6002254/get-the-current-year-in-javascript
        https://stackoverflow.com/questions/75978659/what-does-the-message-request-for-font-noto-sans-blocked-at-visibility-level
        https://stackoverflow.com/questions/15519454/how-to-access-session-variables-and-set-them-in-javascript
        https://stackoverflow.com/questions/2257631/how-to-create-a-session-using-javascript
        https://stackoverflow.com/questions/5119041/how-can-i-get-a-web-sites-favicon
        https://stackoverflow.com/questions/11872404/font-awesome-not-properly-displaying-on-firefox-how-to-vend-via-cdn
        https://stackoverflow.com/questions/16679146/force-footer-on-bottom-on-pages-with-little-content
        https://stackoverflow.com/questions/46867358/w3c-font-family-parse-error-open-sans-helvetica-arial-sans-serif
        https://stackoverflow.com/questions/6494721/override-body-style-for-content-in-an-iframe
        https://stackoverflow.com/questions/1378260/how-can-i-retrieve-a-website-icon
        https://stackoverflow.com/questions/36378371/how-to-make-automatic-line-numbers-next-to-an-html-text-box-with-javascript
        https://stackoverflow.com/questions/16676166/apply-border-radius-to-scrollbars-with-css
        https://stackoverflow.com/questions/46313294/check-if-the-session-exists-with-javascript
        https://stackoverflow.com/questions/13325798/invert-colors-of-an-image-in-css-or-javascript
        https://stackoverflow.com/questions/36512542/edit-css-of-elements-within-iframe
        https://stackoverflow.com/questions/57419640/fonts-are-blocked-by-firefox-cross-origin-request-blocked-the-same-origin-polic
        https://stackoverflow.com/questions/71820200/google-fonts-not-showing-on-firefox-duplicated
        https://stackoverflow.com/questions/217776/how-to-apply-css-to-iframe
        https://stackoverflow.com/questions/58173994/how-can-i-prevent-iframe-messing-browsers-history-after-interactions-with-it
        https://stackoverflow.com/questions/108207/how-do-i-make-an-html-text-box-show-a-hint-when-empty
        https://stackoverflow.com/questions/821359/reload-an-iframe-without-adding-to-the-history
        https://stackoverflow.com/questions/28137461/remove-history-from-external-iframe-redirects-and-links
        https://stackoverflow.com/questions/63907168/removing-iframe-affects-the-session-history-in-some-browsers-but-not-in-chrome
        https://stackoverflow.com/questions/32198016/how-to-check-whether-session-exists-from-javascript
        https://stackoverflow.com/questions/12539006/tooltips-for-mobile-browsers
        https://stackoverflow.com/questions/583753/using-css-to-affect-div-style-inside-iframe
        https://stackoverflow.com/questions/7312623/insert-line-break-inside-placeholder-attribute-of-a-textarea
        https://stackoverflow.com/questions/6358673/javascript-checkbox-onchange
        https://stackoverflow.com/questions/49980749/how-can-i-add-event-listener-to-a-function-expression
        https://stackoverflow.com/questions/1276870/how-to-pass-an-event-object-to-a-function-in-javascript
        https://stackoverflow.com/questions/39953067/javascript-function-parameter-is-undefined
        https://stackoverflow.com/questions/4705848/rendering-html-inside-textarea
        https://stackoverflow.com/questions/3751511/div-size-automatically-size-of-content
        https://stackoverflow.com/questions/2554149/how-can-i-change-div-content-with-javascript
        https://stackoverflow.com/questions/11405835/equivalent-div-property-for-row-in-textarea-in-html
        https://stackoverflow.com/questions/69140350/how-to-display-html-code-without-rendering-on-page
        https://stackoverflow.com/questions/20300138/is-it-possible-to-add-placeholder-in-div-tag
        https://stackoverflow.com/questions/15843581/how-to-correctly-iterate-through-getelementsbyclassname
        https://stackoverflow.com/questions/37125674/how-to-check-for-attribute-value
        https://stackoverflow.com/questions/7693224/how-do-i-right-align-div-elements
        https://stackoverflow.com/questions/18271868/can-i-hide-the-html-source-code-from-the-browser-view-source
        https://stackoverflow.com/questions/2797143/html-entity-is-not-rendered
        https://stackoverflow.com/questions/17711146/how-to-open-link-in-a-new-tab-in-html
        https://stackoverflow.com/questions/50709625/link-with-target-blank-and-rel-noopener-noreferrer-still-vulnerable
        https://stackoverflow.com/questions/1085801/get-selected-value-in-dropdown-list-using-javascript
        https://stackoverflow.com/questions/44846614/trigger-css-animations-in-javascript
        https://stackoverflow.com/questions/12836227/change-select-box-option-background-color
        https://stackoverflow.com/questions/2041388/how-to-remove-the-underline-for-anchorslinks
        https://stackoverflow.com/questions/154059/how-do-i-check-for-an-empty-undefined-null-string-in-javascript
        https://stackoverflow.com/questions/1001009/javascript-textbox-event
        https://stackoverflow.com/questions/13831601/disabling-and-enabling-a-html-input-button
        ps://stackoverflow.com/questions/9150796/change-how-fast-title-attributes-tooltip-appears
        https://stackoverflow.com/questions/18729338/how-to-make-a-div-appear-on-top-of-everything-else-on-the-screen
        https://stackoverflow.com/questions/4550505/getting-a-random-value-from-a-javascript-array
        https://stackoverflow.com/questions/18826147/javascript-audio-play-on-click
        https://stackoverflow.com/questions/31715188/buttons-click-sounds
        https://stackoverflow.com/questions/14834520/html5-audio-stop-function
        https://stackoverflow.com/questions/16576983/replace-multiple-characters-in-one-replace-call
        https://stackoverflow.com/questions/19030397/syntaxerror-unterminated-parenthetical-for-validating-the-local-file-path
        https://stackoverflow.com/questions/7365027/how-to-use-a-regexp-literal-as-object-key
        https://stackoverflow.com/questions/75247972/changes-in-values-will-not-be-reflected-outside-of-function
        https://stackoverflow.com/questions/1518511/how-do-i-pass-an-html-element-as-an-argument-to-a-javascript-function
        https://stackoverflow.com/questions/47384766/passing-html-value-into-javascript-function
        https://stackoverflow.com/questions/4173391/getting-dom-element-value-using-pure-javascript
        https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
        https://stackoverflow.com/questions/57910429/syntaxerror-unterminated-parenthetical-how-to-handle
        https://stackoverflow.com/questions/3777630/unterminated-parenthetical-error-with-a-regular-expression-in-javascript
        https://stackoverflow.com/questions/30225552/regex-for-diacritics
    Tutorialspoint
        https://www.tutorialspoint.com/how-to-create-a-split-screen-50-50-with-css
    w3schools
        https://www.w3schools.com/howto/howto_css_split_screen.asp
        https://www.w3schools.com/tags/att_input_type_radio.asp
        https://www.w3schools.com/tags/att_iframe_sandbox.asp
        https://www.w3schools.com/howto/howto_css_animate_buttons.asp
        https://www.w3schools.com/css/css3_animations.asp
        https://www.w3schools.com/css/css_colors_hex.asp
        https://www.w3schools.com/css/css_colors_keywords.asp
        https://www.w3schools.com/jsref/prop_win_sessionstorage.asp
        https://www.w3schools.com/html/html_entities.asp
        https://www.w3schools.com/jsref/met_element_hasattribute.asp
        https://www.w3schools.com/tags/att_script_type.asp
        https://www.w3schools.com/tags/tag_select.asp
        https://www.w3schools.com/jsref/jsref_concat_string.asp
        https://www.w3schools.com/jsref/event_onchange.asp
        https://www.w3schools.com/css/css_tooltip.asp
    Other
        https://dev.to/phuocng/display-the-line-numbers-in-a-text-area-46mk
        https://www.codeproject.com/Tips/5163219/HTML-Line-Numbering-using-textarea
        https://docs.wpbeaverbuilder.com/bb-theme/defaults-for-layouts-content/footers/force-footer-to-bottom-on-short-pages
        https://www.w3.org/wiki/CSS/Properties/color/keywords
        https://dev.to/billypentester/how-to-hide-the-source-code-of-an-html-web-page-12n5

    link formats:
    replace "term" with your word of choice
        wiktionary: https://en.wiktionary.org/wiki/term#Japanese
        jisho: https://jisho.org/search/term - i used search instead of the word page itself because of alternative forms
            - names: https://jisho.org/search/term %23names
            - kanji https://jisho.org/search/term %23kanji
            - sentences: https://jisho.org/search/term %23sentences
        massif: https://massif.la/ja/search?q=term
        yourei (ADD THIS ;; ADDED 2022/10/30): https://yourei.jp/term

        https://qiita.com/fubarworld2/items/9da655df4d6d69750c06
        https://qiita.com/kt-tsutsumi/items/599f287f15b8e4cb84f3
-->